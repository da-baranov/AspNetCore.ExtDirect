@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<script src="~/ExtDirect.js"></script>

<script>
    Ext.onReady(function () {
        Ext.Loader.setPath("ExtDirectDemo", "app");

        Ext.require(["ExtDirectDemo.view.Index"]);

        Ext.application({
            name: "ExtDirectDemo",
            quickTips: true,

            launch: function () {
                // Add and immediately disable ExtDirect polling provider
                Ext.direct.Manager.addProvider({
                    id: 'DemoPolling',
                    type: 'polling',
                    url: Ext.POLLING_API.url,
                    interval: 1000,
                });
                const pollingProvider = Ext.direct.Manager.getProvider('DemoPolling');
                pollingProvider.disconnect();

                // Add remoting provider
                Ext.direct.Manager.addProvider(Ext.REMOTING_API);

                Ext.create("ExtDirectDemo.view.Index", {
                    renderTo: Ext.getBody()
                });
            }
        });
    });
</script>
