@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<script src="~/ExtDirect.js"></script>

<script>
    Ext.onReady(function () {
        Ext.Loader.setPath("ExtDirectDemo", "app");

        Ext.require(["ExtDirectDemo.view.Index"]);

        Ext.application({
            name: "ExtDirectDemo",
            quickTips: true,

            launch: function () {
                // Add and immediately disable a polling provider
                Ext.direct.Manager.addProvider({
                    id: 'DemoPolling',
                    type: 'polling',
                    url: Ext.POLLING_DATA_API.url + "?firstName=John&lastName=Doe&address.country=USA&address.city=Boston",
                    interval: 1000,
                });
                Ext.direct.Manager.getProvider('DemoPolling').disconnect();

                // Add another polling provider
                Ext.direct.Manager.addProvider({
                    id: 'ChatPolling',
                    type: 'polling',
                    url: Ext.POLLING_CHAT_API.url + "?firstName=John&lastName=Doe&address.country=USA&address.city=Boston",
                    interval: 1000,
                });

                // Add remoting providers
                Ext.direct.Manager.addProvider(Ext.REMOTING_API);
                Ext.direct.Manager.addProvider(Ext.CALCULATOR_API_1);
                Ext.direct.Manager.addProvider(Ext.CALCULATOR_API_2);

                // Create main view
                Ext.create("ExtDirectDemo.view.Index", {
                    renderTo: Ext.getBody()
                });
            }
        });
    });
</script>
